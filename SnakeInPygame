import pygame
import random
pygame.init()#initialiation
pygame.display.set_caption("Classic Snake In Python")#sets window title
WINDOW = pygame.display.set_mode((640,640))#window resolution
SNAKE=[[0,0],[0,9],[0,19]]#snake segments
HEADOFSNAKE=[]#initialising snake's first segment
DIRECTION=(0,0)#initialising next movement
APPLECOORDINATES= [random.randint(0, 63) * 10, random.randint(0, 63) * 10]#setting up initial apple co-ordinates
FONT = pygame.font.SysFont(None, 36)
SCORE=0
CLOCK = pygame.time.Clock()#initialising fps functionalilty



#game loop
RENDERING = True
while RENDERING:
    #cycling through events


    WINDOW.fill((0, 0, 0))#refreshes the screen black
    

    for event in pygame.event.get():#checks for inputs
        #quit from x button functionality
        if event.type == pygame.QUIT:
            RENDERING = False
        elif event.type == pygame.KEYDOWN:#checks for movement keys
            #snake movement & checks that input is not in opposite direction to current movement and updates direction accordingly
            if event.key == pygame.K_UP and DIRECTION != (0,10):
                DIRECTION = (0, -10)
            elif event.key == pygame.K_DOWN and DIRECTION != (0,-10):
                DIRECTION = (0, 10)
            elif event.key == pygame.K_LEFT and DIRECTION != (10,0):
                DIRECTION = (-10, 0)
            elif event.key == pygame.K_RIGHT and DIRECTION != (-10,0):
                DIRECTION = (10, 0)

    #snake movement
    HEADOFSNAKE=[SNAKE[0][0]+DIRECTION[0],SNAKE[0][1]+DIRECTION[1]]
    SNAKE.insert(0,HEADOFSNAKE) #add new head of snake

    
    if HEADOFSNAKE[0]==APPLECOORDINATES[0] and HEADOFSNAKE[1]==APPLECOORDINATES[1]:#collision detection with apple
        APPLECOORDINATES= [random.randint(0, 63) * 10, random.randint(0, 63) * 10]#setting up next random apple co-ordinates
        SCORE=SCORE+1
    else:
        SNAKE.pop()

 

    APPLE=pygame.Rect(APPLECOORDINATES[0], APPLECOORDINATES[1], 10, 10)#apple loading and drawing
    pygame.draw.rect(WINDOW, (255, 0, 0),APPLE)#apple rendering
    
    for SEGMENT in SNAKE:#snake loading and drawing
        SNAKE_SEGMENTS = pygame.Rect(SEGMENT[0], SEGMENT[1], 10, 10)#snake segments stored as 10x10 rectangles
        pygame.draw.rect(WINDOW, (0, 255, 0),SNAKE_SEGMENTS)#displays the rectangle SNAKE on WINDOW with RGB values assigned


    SCOREBOARD= FONT.render(str(SCORE), True, (255, 255, 255))#scoreboard loading and drawing
    WINDOW.blit(SCOREBOARD, (10, 10))#scoreboard rendering
    FRAMETIME=CLOCK.tick(20)#FPS lock
    print("FPS= ",1/(FRAMETIME/1000))#displays FPS
    pygame.display.update()#rendering the final image


    
pygame.quit()



